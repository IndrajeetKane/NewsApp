{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kanei\\\\Documents\\\\Projects\\\\React\\\\HW8\\\\frontend\\\\src\\\\Business.js\";\nimport React, { Component } from \"react\";\nimport Card from './card';\nimport BounceLoader from 'react-spinners/BounceLoader';\nimport { css } from \"@emotion/core\";\nconst override = css`\n  display: block;\n  margin-left: auto ;\n  margin-right: auto ;\n  /* margin-bottom: 0 auto ; */\n  margin-top:300px;\n`;\n\nclass Business extends Component {\n  constructor() {\n    super();\n    this.state = {\n      temp: [],\n      isLoading: true\n    };\n  }\n\n  componentDidMount() {\n    this.props.switchFunction();\n    setTimeout(() => this.setState({\n      isLoading: false\n    }), 2000);\n    fetch('https://test-deploy2506.wl.r.appspot.com/business').then(results => {\n      return results.json();\n    }).then(data => {\n      let temp = data.results.map(news => {\n        let newsShare = \"\";\n        let theme = \"\";\n        let setname = \"\";\n\n        if (news.hasOwnProperty(\"url\")) {\n          newsShare = news.url;\n        } else {\n          newsShare = \"http://www.google.com\";\n        }\n\n        let imageVal = \"\";\n\n        if (news.multimedia === null) {\n          imageVal = \"https://upload.wikimedia.org/wikipedia/commons/0/0e/Nytimes_hq.jpg\";\n        } else {\n          for (var i = 0; i < news.multimedia.length; i++) {\n            if (news.multimedia[i].width >= 2000) {\n              imageVal = news.multimedia[i].url;\n              break;\n            }\n          }\n\n          if (imageVal === \"\") {\n            imageVal = \"https://upload.wikimedia.org/wikipedia/commons/0/0e/Nytimes_hq.jpg\";\n          }\n        } // console.log(\"this is imageVal\",imageVal)\n\n\n        if (news.section === \"business\" || news.section === \"Business\") {\n          theme = \"primary\";\n        } else {\n          setname = \"other\";\n        }\n\n        return /*#__PURE__*/React.createElement(Card, {\n          title: news.title,\n          img: imageVal,\n          section: news.section,\n          date: news.published_date,\n          desc: news.abstract,\n          theme: theme,\n          shareURL: newsShare,\n          name: setname,\n          cardtype: \"ny\",\n          newsURL: newsShare,\n          api: \"onws5eIQAm992vQD8VgYf9b8nwtGJUe1\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 11\n          }\n        });\n      });\n      this.setState({\n        temp: temp\n      });\n      console.log(\"data\", this.state.temp);\n    });\n  }\n\n  render() {\n    if (this.state.isLoading) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(BounceLoader, {\n        css: override,\n        color: \"#005BD4\",\n        size: \"32px\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(\"h5\", {\n        className: \"loading\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }\n      }, \"Loading\")); // render the loading component\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"loading\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 7\n      }\n    }, this.state.temp);\n  }\n\n}\n\nexport default Business;","map":{"version":3,"sources":["C:/Users/kanei/Documents/Projects/React/HW8/frontend/src/Business.js"],"names":["React","Component","Card","BounceLoader","css","override","Business","constructor","state","temp","isLoading","componentDidMount","props","switchFunction","setTimeout","setState","fetch","then","results","json","data","map","news","newsShare","theme","setname","hasOwnProperty","url","imageVal","multimedia","i","length","width","section","title","published_date","abstract","console","log","render"],"mappings":"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","sourcesContent":["import React,{Component} from \"react\"\nimport Card from './card'\nimport BounceLoader from 'react-spinners/BounceLoader'\nimport { css } from \"@emotion/core\";\n\nconst override = css`\n  display: block;\n  margin-left: auto ;\n  margin-right: auto ;\n  /* margin-bottom: 0 auto ; */\n  margin-top:300px;\n`;\nclass Business extends Component{\n  constructor(){\n    super();\n    this.state = {\n      temp:[],\n      isLoading:true\n    };\n  }\n  componentDidMount(){\n    this.props.switchFunction()\n    setTimeout(() => this.setState({ isLoading: false }), 2000);\n    fetch('https://test-deploy2506.wl.r.appspot.com/business')\n    .then(results => {\n      return results.json();\n    }).then(data => {\n      let temp = data.results.map((news) => {\n        let newsShare = \"\"\n        let theme = \"\"\n        let setname = \"\"\n        if(news.hasOwnProperty(\"url\")){\n          newsShare = news.url\n        }\n        else{\n          newsShare = \"http://www.google.com\"\n        }\n        let imageVal =\"\"\n        if(news.multimedia===null){\n          imageVal = \"https://upload.wikimedia.org/wikipedia/commons/0/0e/Nytimes_hq.jpg\"\n        }\n        else{\n          for(var i=0;i<news.multimedia.length;i++){\n            if(news.multimedia[i].width>=2000){\n              imageVal = news.multimedia[i].url\n              break\n            }\n          }\n          if(imageVal===\"\"){\n            imageVal = \"https://upload.wikimedia.org/wikipedia/commons/0/0e/Nytimes_hq.jpg\"\n          }\n        }\n        // console.log(\"this is imageVal\",imageVal)\n        if(news.section===\"business\" || news.section===\"Business\"){\n          theme=\"primary\"\n        }\n        else{\n          setname=\"other\"\n        }\n        return(\n          <Card title={news.title}\n                img={imageVal}\n                section={news.section}\n                date={news.published_date}\n                desc={news.abstract}\n                theme={theme}\n                shareURL={newsShare}\n                name={setname}\n                cardtype=\"ny\"\n                newsURL={newsShare}\n                api=\"onws5eIQAm992vQD8VgYf9b8nwtGJUe1\" />\n        )\n      })\n      this.setState({temp:temp});\n      console.log(\"data\",this.state.temp);\n    })\n  }\n\n  render(){\n    if(this.state.isLoading) {\n      return (\n        <div>\n          <BounceLoader css={override} color=\"#005BD4\" size=\"32px\"/>\n          <h5 className=\"loading\">Loading</h5>\n        </div>\n      ); // render the loading component\n    }\n    return(\n      <div className=\"loading\">{this.state.temp}</div>\n    )\n  }\n}\nexport default Business\n"]},"metadata":{},"sourceType":"module"}