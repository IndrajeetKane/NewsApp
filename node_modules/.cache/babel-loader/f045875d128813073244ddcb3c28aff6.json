{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kanei\\\\Documents\\\\Projects\\\\React\\\\HW8\\\\frontend\\\\src\\\\SmallCard.js\";\nimport React from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Redirect } from 'react-router-dom';\nimport moment from 'moment';\nimport { MdShare } from 'react-icons/md';\nimport { MdClose } from 'react-icons/md';\nimport { MdDelete } from 'react-icons/md';\nimport { Modal } from 'react-bootstrap';\nimport Badge from \"react-bootstrap/Badge\";\nimport { EmailIcon, FacebookIcon, TwitterIcon, FacebookShareButton, TwitterShareButton, EmailShareButton } from \"react-share\";\nimport { ToastContainer, toast, cssTransition } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nconst x = \"20rem\";\nconst y = \"auto\";\nconst z = \"10\";\nconst Zoom = cssTransition({\n  enter: 'zoomIn',\n  exit: 'zoomOut'\n});\nconst titleStyle = {\n  marginTop: '20px',\n  marginLeft: '20px',\n  marginRight: '20px'\n};\n\nclass SmallCard extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      show: false,\n      showCard: false,\n      newsId: \"\",\n      api: \"\",\n      cardtype: \"\",\n      storage: []\n    };\n    this.handleShow = this.handleShow.bind(this);\n    this.handleClose = this.handleClose.bind(this);\n    this.deleteFavorite = this.deleteFavorite.bind(this);\n    this.handleOpenCard = this.handleOpenCard.bind(this);\n  }\n\n  handleShow(e) {\n    e.stopPropagation();\n    this.setState({\n      show: true\n    }, () => console.log(this.state.show));\n  }\n\n  handleClose(e) {\n    this.setState({\n      show: false\n    });\n  }\n\n  handleOpenCard(event) {\n    event.stopPropagation();\n    console.log(\"for\", event.nativeEvent.target.className);\n\n    if (event.nativeEvent.target.localName === \"span\" || event.nativeEvent.target.localName === \"path\" || event.nativeEvent.target.localName === \"circle\" || event.nativeEvent.target.localName === \"modal-body\" || event.nativeEvent.target.localName === \"\") {\n      return;\n    }\n\n    this.setState({\n      showCard: true,\n      newsId: this.props.newsId,\n      api: this.props.api,\n      section: this.props.section,\n      cardtype: this.props.cardtype\n    });\n  }\n\n  deleteFavorite(e) {\n    e.stopPropagation();\n    this.props.toastAction(this.props.title);\n    var temp = JSON.parse(localStorage.getItem('favoritesContainer'));\n\n    for (var i = 0; i < temp.length; i++) {\n      if (temp[i].title === this.props.title) {\n        temp.splice(i, 1);\n        break;\n      }\n    }\n\n    localStorage.setItem('favoritesContainer', JSON.stringify(temp));\n    this.props.action();\n  }\n\n  render() {\n    if (this.state.deleteCard) {\n      toast('Removing ' + this.props.title, {\n        position: \"top-center\",\n        autoClose: 2000,\n        hideProgressBar: true,\n        closeOnClick: false,\n        pauseOnHover: false,\n        draggable: false,\n        transition: Zoom\n      });\n    }\n\n    if (this.state.showCard) {\n      if (this.props.cardtype === \"GUARDIAN\") {\n        let newsId = \"\";\n        let api = \"\";\n        let cardtype = \"guardian\";\n        newsId = this.props.newsId;\n        api = this.props.api;\n        console.log(\"displaying state\", this.state.api);\n        var routeObject = {\n          'articleId': newsId,\n          'articleApi': this.state.api,\n          'section': this.state.section,\n          'favorites': true,\n          'cardtype': cardtype\n        };\n        localStorage.setItem('routeData', JSON.stringify(routeObject));\n        return /*#__PURE__*/React.createElement(Redirect, {\n          to: {\n            pathname: \"/details\",\n            search: \"?id=\" + newsId + \"?api-key=\" + api + \"&show-blocks=all\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 16\n          }\n        });\n      }\n\n      if (this.props.cardtype === \"NYTIMES\") {\n        console.log(this.props.newsId);\n        console.log(this.props.api);\n        let newsId = \"\";\n        let api = \"\";\n        let cardtype = \"ny\";\n        newsId = this.props.newsId;\n        api = this.props.api;\n        var routeObject = {\n          'articleId': newsId,\n          'articleApi': this.state.api,\n          'section': this.state.section,\n          'favorites': true,\n          'cardtype': cardtype\n        };\n        localStorage.setItem('routeData', JSON.stringify(routeObject));\n        return /*#__PURE__*/React.createElement(Redirect, {\n          to: {\n            pathname: \"/details\",\n            search: \"?id=\" + newsId + \"?api-key=\" + api\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 16\n          }\n        });\n      }\n    } else {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"favoriteContainer\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card\",\n        style: {\n          width: x,\n          height: y\n        },\n        onClick: this.handleOpenCard,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card-title\",\n        style: titleStyle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 60\n        }\n      }, /*#__PURE__*/React.createElement(\"b\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 63\n        }\n      }, this.props.title, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"shareButton\",\n        onClick: this.handleShow,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(MdShare, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 71\n        }\n      })), /*#__PURE__*/React.createElement(\"button\", {\n        className: \"shareButton\",\n        onClick: this.deleteFavorite,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(MdDelete, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 75\n        }\n      }))))), /*#__PURE__*/React.createElement(Modal, {\n        show: this.state.show,\n        onHide: this.handleClose,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Modal.Header, {\n        closeButton: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Modal.Title, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 15\n        }\n      }, this.props.title)), /*#__PURE__*/React.createElement(Modal.Body, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"shareVia\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 39\n        }\n      }, \"Share Via\"), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 65\n        }\n      }), /*#__PURE__*/React.createElement(FacebookShareButton, {\n        style: {\n          marginLeft: '50px'\n        },\n        url: this.props.shareURL,\n        hashtag: \"#CSCI_571_NewsApp\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(FacebookIcon, {\n        size: 50,\n        round: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 15\n        }\n      })), /*#__PURE__*/React.createElement(TwitterShareButton, {\n        url: this.props.shareURL,\n        style: {\n          marginLeft: '35px',\n          marginRight: '35px'\n        },\n        hashtags: ['CSCI_571_NewsApp'],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(TwitterIcon, {\n        size: 50,\n        round: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 15\n        }\n      })), /*#__PURE__*/React.createElement(EmailShareButton, {\n        url: this.props.shareURL,\n        style: {\n          marginRight: '50px'\n        },\n        subject: \"#CSCI_571_NewsApp\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(EmailIcon, {\n        size: 50,\n        round: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 15\n        }\n      }))))), /*#__PURE__*/React.createElement(\"img\", {\n        src: this.props.image,\n        class: \"card-img-top\",\n        alt: \"...\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"card-body\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"smallcard-date\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 47\n        }\n      }, moment(this.props.date).format('YYYY-MM-DD'))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"controller\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 43\n        }\n      }, /*#__PURE__*/React.createElement(Badge, {\n        className: this.props.name,\n        variant: this.props.theme,\n        style: {\n          background: this.props.color,\n          color: this.props.tcolor\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 48\n        }\n      }, this.props.section)), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"smallcard-type\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Badge, {\n        className: this.props.cardclass,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 47\n        }\n      }, this.props.cardtype))))));\n    }\n  }\n\n}\n\nexport default SmallCard;","map":{"version":3,"sources":["C:/Users/kanei/Documents/Projects/React/HW8/frontend/src/SmallCard.js"],"names":["React","Redirect","moment","MdShare","MdClose","MdDelete","Modal","Badge","EmailIcon","FacebookIcon","TwitterIcon","FacebookShareButton","TwitterShareButton","EmailShareButton","ToastContainer","toast","cssTransition","x","y","z","Zoom","enter","exit","titleStyle","marginTop","marginLeft","marginRight","SmallCard","Component","constructor","props","state","show","showCard","newsId","api","cardtype","storage","handleShow","bind","handleClose","deleteFavorite","handleOpenCard","e","stopPropagation","setState","console","log","event","nativeEvent","target","className","localName","section","toastAction","title","temp","JSON","parse","localStorage","getItem","i","length","splice","setItem","stringify","action","render","deleteCard","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","transition","routeObject","pathname","search","width","height","shareURL","image","date","format","name","theme","background","color","tcolor","cardclass"],"mappings":"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","sourcesContent":["import React from 'react'\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Redirect } from 'react-router-dom'\nimport moment from 'moment';\nimport { MdShare } from 'react-icons/md';\nimport { MdClose } from 'react-icons/md';\nimport { MdDelete } from 'react-icons/md';\nimport { Modal } from 'react-bootstrap';\nimport Badge from \"react-bootstrap/Badge\";\nimport { EmailIcon, FacebookIcon, TwitterIcon, FacebookShareButton, TwitterShareButton, EmailShareButton } from \"react-share\";\nimport { ToastContainer, toast, cssTransition } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nconst x = \"20rem\"\nconst y = \"auto\"\nconst z = \"10\"\n\nconst Zoom = cssTransition({\n  enter: 'zoomIn',\n  exit: 'zoomOut',\n});\nconst titleStyle = {\n  marginTop:'20px',\n  marginLeft:'20px',\n  marginRight:'20px'\n}\n\nclass SmallCard extends React.Component{\n  constructor(props){\n    super(props)\n    this.state = {\n      show : false,\n      showCard : false,\n      newsId : \"\",\n      api : \"\",\n      cardtype:\"\",\n      storage: [],\n\n    }\n    this.handleShow = this.handleShow.bind(this)\n    this.handleClose= this.handleClose.bind(this)\n    this.deleteFavorite = this.deleteFavorite.bind(this)\n    this.handleOpenCard = this.handleOpenCard.bind(this)\n\n  }\n\n  handleShow(e) {\n    e.stopPropagation();\n    this.setState({ show: true },()=> console.log(this.state.show));\n  }\n  handleClose(e) {\n\n    this.setState({ show: false });\n  }\n  handleOpenCard (event) {\n    event.stopPropagation();\n    console.log(\"for\",event.nativeEvent.target.className);\n    if(event.nativeEvent.target.localName === \"span\" || event.nativeEvent.target.localName === \"path\" || event.nativeEvent.target.localName === \"circle\" || event.nativeEvent.target.localName===\"modal-body\" || event.nativeEvent.target.localName===\"\"){\n      return;\n    }\n    this.setState({ showCard: true,\n                    newsId: this.props.newsId,\n                    api:this.props.api,\n                    section:this.props.section,\n                    cardtype:this.props.cardtype});\n  }\n  deleteFavorite (e) {\n    e.stopPropagation()\n    this.props.toastAction(this.props.title)\n    var temp = JSON.parse(localStorage.getItem('favoritesContainer'))\n    for(var i = 0;i<temp.length;i++){\n      if(temp[i].title===this.props.title){\n        temp.splice(i,1)\n        break\n      }\n    }\n    localStorage.setItem('favoritesContainer',JSON.stringify(temp))\n    this.props.action()\n  }\n  render(){\n    if(this.state.deleteCard){\n      toast('Removing '+this.props.title, {\n        position: \"top-center\",\n        autoClose: 2000,\n        hideProgressBar: true,\n        closeOnClick: false,\n        pauseOnHover: false,\n        draggable: false,\n        transition:Zoom\n      });\n    }\n    if(this.state.showCard){\n      if(this.props.cardtype===\"GUARDIAN\"){\n        let newsId = \"\"\n        let api = \"\"\n        let cardtype = \"guardian\"\n        newsId = this.props.newsId\n        api = this.props.api\n        console.log(\"displaying state\",this.state.api)\n        var routeObject = { 'articleId' : newsId, 'articleApi': this.state.api, 'section':this.state.section,'favorites':true,'cardtype':cardtype};\n        localStorage.setItem('routeData', JSON.stringify(routeObject));\n        return(<Redirect to={{pathname:\"/details\" ,search:\"?id=\"+newsId+\"?api-key=\"+api+\"&show-blocks=all\"}}/>)\n      }\n      if(this.props.cardtype===\"NYTIMES\"){\n        console.log(this.props.newsId)\n        console.log(this.props.api)\n        let newsId = \"\"\n        let api = \"\"\n        let cardtype = \"ny\"\n        newsId = this.props.newsId\n        api = this.props.api\n        var routeObject = { 'articleId' : newsId, 'articleApi': this.state.api, 'section':this.state.section,'favorites':true,'cardtype':cardtype};\n        localStorage.setItem('routeData', JSON.stringify(routeObject));\n        return(<Redirect to={{pathname:\"/details\", search:\"?id=\"+newsId+\"?api-key=\"+api}}/>)\n      }\n    }\n    else{\n      return(\n        <div className=\"favoriteContainer\">\n          <div className=\"card\" style={{width:x,height:y}} onClick = {this.handleOpenCard}>\n            <div className=\"card-title\" style={titleStyle}><i><b>{this.props.title}\n            <button className=\"shareButton\" onClick={this.handleShow}><MdShare /></button>\n            <button className=\"shareButton\" onClick={this.deleteFavorite}><MdDelete /></button>\n            </b></i></div>\n            <Modal show={this.state.show} onHide={this.handleClose}>\n            <Modal.Header closeButton>\n              <Modal.Title>{this.props.title}</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n            <div className=\"shareVia\"><strong>Share Via</strong><br />\n            <FacebookShareButton style={{marginLeft:'50px'}} url={this.props.shareURL} hashtag=\"#CSCI_571_NewsApp\">\n              <FacebookIcon size={50} round={true} />\n            </FacebookShareButton>\n            <TwitterShareButton url={this.props.shareURL} style={{marginLeft:'35px',marginRight:'35px'}} hashtags={['CSCI_571_NewsApp']}>\n              <TwitterIcon size={50} round={true} />\n            </TwitterShareButton>\n            <EmailShareButton url={this.props.shareURL} style={{marginRight:'50px'}} subject=\"#CSCI_571_NewsApp\">\n              <EmailIcon size={50} round={true} />\n            </EmailShareButton>\n            </div>\n            </Modal.Body>\n            </Modal>\n            <img src={this.props.image} class=\"card-img-top\" alt=\"...\"></img>\n            <div class=\"card-body\">\n              <div className=\"smallcard-date\"><i>{moment(this.props.date).format('YYYY-MM-DD')}</i></div>\n              <div className=\"controller\"><div><Badge className={this.props.name} variant={this.props.theme} style={{background:this.props.color,color:this.props.tcolor}}>{this.props.section}</Badge></div>\n              <div className=\"smallcard-type\"><Badge className={this.props.cardclass}>{this.props.cardtype}</Badge></div></div>\n            </div>\n          </div>\n        </div>)\n    }\n\n  }\n}\n\nexport default SmallCard\n"]},"metadata":{},"sourceType":"module"}