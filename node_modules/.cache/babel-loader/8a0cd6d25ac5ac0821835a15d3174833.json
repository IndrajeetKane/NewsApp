{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kanei\\\\Documents\\\\Projects\\\\React\\\\HW8\\\\frontend\\\\src\\\\Search.js\";\nimport React from 'react';\nimport SearchCard from './SearchCard';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nclass Search extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      temp: []\n    };\n  }\n\n  componentWillReceiveProps(prevProps, prevState) {\n    // if(window.location.pathname===\"/search\"){\n    //   var search = window.location.search.split(\"=\")[1]\n    //   localStorage.setItem('search',JSON.stringify(search))\n    // }\n    // else{\n    //   var search = \"\"\n    //   localStorage.setItem('search',JSON.stringify(search))\n    // }\n    console.log(\"in component did update\");\n    var cardData = localStorage.getItem('cardIdentifier');\n    var cardtype = JSON.parse(cardData);\n\n    if (cardtype.cardtype) {\n      var query = window.location.search.split('=')[1];\n      var url = new URL(\"https://test-deploy2506.wl.r.appspot.com/searchGuardian\");\n      var params = {\n        search: query\n      };\n      Object.keys(params).forEach(key => url.searchParams.append(key, params[key]));\n      fetch(url).then(results => {\n        return results.json();\n      }).then(data => {\n        let temp = data.response.results.map(news => {\n          console.log(data.response.results);\n          let imageVal = \"\";\n          let setcolor = \"\";\n          let setTcolor = \"\";\n          let theme = \"\";\n          let setname = \"\";\n          let title = news.webTitle;\n          let section = news.sectionId;\n          let date = news.webPublicationDate;\n          let shareURL = news.webUrl;\n          let cardtype = \"guardian\";\n          let newsId = news.id;\n\n          if (news.blocks.hasOwnProperty(\"main\")) {\n            if (news.blocks.main.elements[0].assets.length === 0) {\n              imageVal = \"https://assets.guim.co.uk/images/eada8aa27c12fe2d5afa3a89d3fbae0d/fallback-logo.png\";\n            } else {\n              let len;\n              len = news.blocks.main.elements[0].assets.length;\n              imageVal = news.blocks.main.elements[0].assets[len - 1].file;\n            }\n          } else {\n            imageVal = \"https://assets.guim.co.uk/images/eada8aa27c12fe2d5afa3a89d3fbae0d/fallback-logo.png\";\n          }\n\n          if (section === \"world\" || section === \"World\") {\n            setcolor = \"BlueViolet\";\n            setTcolor = \"white\";\n          } else if (section === \"politics\" || section === \"Politics\") {\n            setcolor = \"DarkCyan\";\n            setTcolor = \"white\";\n          } else if (section === \"business\" || section === \"Business\") {\n            theme = \"primary\";\n          } else if (section === \"technology\" || section === \"Technology\") {\n            setname = \"technology\";\n          } else if (section === \"sport\" || section === \"Sport\") {\n            setname = \"sports\";\n          } else {\n            setname = \"other\";\n          }\n\n          console.log(\"checl\", news.webUrl);\n          return /*#__PURE__*/React.createElement(SearchCard, {\n            title: news.webTitle,\n            image: imageVal,\n            date: news.webPublicationDate,\n            section: news.sectionId,\n            theme: theme,\n            color: setcolor,\n            tcolor: setTcolor,\n            name: setname,\n            shareURL: news.webUrl,\n            cardtype: cardtype,\n            newsId: news.id,\n            api: \"f7cd7c4a-6561-42e3-9c22-61896a27a48d\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 22\n            }\n          });\n        });\n\n        if (prevState.temp != temp) {\n          this.setState({\n            temp: temp\n          });\n        }\n      });\n    }\n\n    if (!cardtype.cardtype) {\n      var query = window.location.search.split('=')[1];\n      var url = new URL(\"https://test-deploy2506.wl.r.appspot.com/searchNY\");\n      var params = {\n        search: query\n      };\n      Object.keys(params).forEach(key => url.searchParams.append(key, params[key]));\n      fetch(url).then(results => {\n        return results.json();\n      }).then(data => {\n        if (data.hasOwnProperty(\"response\")) {\n          if (data.response.hasOwnProperty(\"docs\")) {\n            let temp = data.response.docs.map(news => {\n              console.log(data.response);\n              let imageVal = \"\";\n              let setcolor = \"\";\n              let setTcolor = \"\";\n              let theme = \"\";\n              let setname = \"\";\n              let title = news.headline.main;\n              let section = news.news_desk;\n              let date = news.pub_date;\n              let shareURL = news.web_url;\n              let cardtype = \"ny\";\n              let newsId = news.web_url;\n\n              if (news.hasOwnProperty(\"multimedia\")) {\n                if (news.multimedia === null) {\n                  imageVal = \"https://upload.wikimedia.org/wikipedia/commons/0/0e/Nytimes_hq.jpg\";\n                } else {\n                  for (var i = 0; i < news.multimedia.length; i++) {\n                    if (news.multimedia[i].width >= 2000) {\n                      imageVal = \"https://nyt.com/\" + news.multimedia[i].url;\n                      break;\n                    }\n                  }\n\n                  if (imageVal === \"\") {\n                    imageVal = \"https://upload.wikimedia.org/wikipedia/commons/0/0e/Nytimes_hq.jpg\";\n                  }\n                }\n              }\n\n              if (section === \"world\" || section === \"World\") {\n                setcolor = \"BlueViolet\";\n                setTcolor = \"white\";\n              } else if (section === \"politics\" || section === \"Politics\") {\n                setcolor = \"DarkCyan\";\n                setTcolor = \"white\";\n              } else if (section === \"business\" || section === \"Business\") {\n                theme = \"primary\";\n              } else if (section === \"technology\" || section === \"Technology\") {\n                setname = \"technology\";\n              } else if (section === \"sport\" || section === \"Sport\") {\n                setname = \"sports\";\n              } else {\n                setname = \"other\";\n              }\n\n              console.log(news.web_url);\n              return /*#__PURE__*/React.createElement(SearchCard, {\n                title: news.headline.main,\n                image: imageVal,\n                date: news.pub_date,\n                section: news.news_desk,\n                theme: theme,\n                color: setcolor,\n                tcolor: setTcolor,\n                name: setname,\n                shareURL: news.web_url,\n                cardtype: cardtype,\n                newsId: news.web_url,\n                api: \"onws5eIQAm992vQD8VgYf9b8nwtGJUe1\",\n                __self: this,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 160,\n                  columnNumber: 24\n                }\n              });\n            });\n\n            if (prevState.temp != temp) {\n              this.setState({\n                temp: temp\n              });\n            }\n          }\n        }\n      });\n    }\n  }\n\n  componentDidMount() {\n    console.log(\"in component did mount\");\n    this.props.switchFunction();\n    this.props.bookmarkFunction();\n    var cardData = localStorage.getItem('cardIdentifier');\n    var cardtype = JSON.parse(cardData);\n\n    if (cardtype.cardtype) {\n      var query = window.location.search.split('=')[1];\n      var url = new URL(\"https://test-deploy2506.wl.r.appspot.com/searchGuardian\");\n      var params = {\n        search: query\n      };\n      Object.keys(params).forEach(key => url.searchParams.append(key, params[key]));\n      fetch(url).then(results => {\n        return results.json();\n      }).then(data => {\n        let temp = data.response.results.map(news => {\n          console.log(data.response.results);\n          let imageVal = \"\";\n          let setcolor = \"\";\n          let setTcolor = \"\";\n          let theme = \"\";\n          let setname = \"\";\n          let title = news.webTitle;\n          let section = news.sectionId;\n          let date = news.webPublicationDate;\n          let shareURL = news.webUrl;\n          let cardtype = \"guardian\";\n          let newsId = news.id;\n\n          if (news.blocks.hasOwnProperty(\"main\")) {\n            if (news.blocks.main.elements[0].assets.length === 0) {\n              imageVal = \"https://assets.guim.co.uk/images/eada8aa27c12fe2d5afa3a89d3fbae0d/fallback-logo.png\";\n            } else {\n              let len;\n              len = news.blocks.main.elements[0].assets.length;\n              imageVal = news.blocks.main.elements[0].assets[len - 1].file;\n            }\n          } else {\n            imageVal = \"https://assets.guim.co.uk/images/eada8aa27c12fe2d5afa3a89d3fbae0d/fallback-logo.png\";\n          }\n\n          if (section === \"world\" || section === \"World\") {\n            setcolor = \"BlueViolet\";\n            setTcolor = \"white\";\n          } else if (section === \"politics\" || section === \"Politics\") {\n            setcolor = \"DarkCyan\";\n            setTcolor = \"white\";\n          } else if (section === \"business\" || section === \"Business\") {\n            theme = \"primary\";\n          } else if (section === \"technology\" || section === \"Technology\") {\n            setname = \"technology\";\n          } else if (section === \"sport\" || section === \"Sport\") {\n            setname = \"sports\";\n          } else {\n            setname = \"other\";\n          }\n\n          console.log(\"check\", news.webUrl);\n          return /*#__PURE__*/React.createElement(SearchCard, {\n            title: news.webTitle,\n            image: imageVal,\n            date: news.webPublicationDate,\n            section: news.sectionId,\n            theme: theme,\n            color: setcolor,\n            tcolor: setTcolor,\n            name: setname,\n            shareURL: news.webUrl,\n            cardtype: cardtype,\n            newsId: news.id,\n            api: \"f7cd7c4a-6561-42e3-9c22-61896a27a48d\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 22\n            }\n          });\n        });\n        this.setState({\n          temp: temp\n        });\n      });\n    }\n\n    if (!cardtype.cardtype) {\n      var query = window.location.search.split('=')[1];\n      var url = new URL(\"https://test-deploy2506.wl.r.appspot.com/searchNY\");\n      var params = {\n        search: query\n      };\n      Object.keys(params).forEach(key => url.searchParams.append(key, params[key]));\n      fetch(url).then(results => {\n        return results.json();\n      }).then(data => {\n        if (data.hasOwnProperty(\"response\")) {\n          if (data.response.hasOwnProperty(\"docs\")) {\n            console.log(data.response);\n            let temp = data.response.docs.map(news => {\n              let imageVal = \"\";\n              let setcolor = \"\";\n              let setTcolor = \"\";\n              let theme = \"\";\n              let setname = \"\";\n              let title = news.headline.main;\n              let section = news.news_desk;\n              let date = news.pub_date;\n              let shareURL = news.web_url;\n              let cardtype = \"ny\";\n              let newsId = news.web_url;\n\n              if (news.hasOwnProperty(\"multimedia\")) {\n                if (news.multimedia === null) {\n                  imageVal = \"https://upload.wikimedia.org/wikipedia/commons/0/0e/Nytimes_hq.jpg\";\n                } else {\n                  for (var i = 0; i < news.multimedia.length; i++) {\n                    if (news.multimedia[i].width >= 2000) {\n                      imageVal = \"https://nyt.com/\" + news.multimedia[i].url;\n                      break;\n                    }\n                  }\n\n                  if (imageVal === \"\") {\n                    imageVal = \"https://upload.wikimedia.org/wikipedia/commons/0/0e/Nytimes_hq.jpg\";\n                  }\n                }\n              } // console.log(\"this is imageVal\",imageVal)\n\n\n              if (section === \"world\" || section === \"World\") {\n                setcolor = \"BlueViolet\";\n                setTcolor = \"white\";\n              } else if (section === \"politics\" || section === \"Politics\") {\n                setcolor = \"DarkCyan\";\n                setTcolor = \"white\";\n              } else if (section === \"business\" || section === \"Business\") {\n                theme = \"primary\";\n              } else if (section === \"technology\" || section === \"Technology\") {\n                setname = \"technology\";\n              } else if (section === \"sport\" || section === \"Sport\") {\n                setname = \"sports\";\n              } else {\n                setname = \"other\";\n              }\n\n              console.log(news.web_url);\n              return /*#__PURE__*/React.createElement(SearchCard, {\n                title: news.headline.main,\n                image: imageVal,\n                date: news.pub_date,\n                section: news.news_desk,\n                theme: theme,\n                color: setcolor,\n                tcolor: setTcolor,\n                name: setname,\n                shareURL: news.web_url,\n                cardtype: cardtype,\n                newsId: news.web_url,\n                api: \"onws5eIQAm992vQD8VgYf9b8nwtGJUe1\",\n                __self: this,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 322,\n                  columnNumber: 24\n                }\n              });\n            });\n            this.setState({\n              temp: temp\n            });\n          }\n        }\n      });\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 12\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"favWord\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 17\n      }\n    }, \"Results \"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 56\n      }\n    }, this.state.temp));\n\n    if (this.state.temp.length === 0) {\n      return /*#__PURE__*/React.createElement(\"h4\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 16\n        }\n      }, \"No results\");\n    }\n  }\n\n}\n\nexport default Search;","map":{"version":3,"sources":["C:/Users/kanei/Documents/Projects/React/HW8/frontend/src/Search.js"],"names":["React","SearchCard","Search","Component","constructor","state","temp","componentWillReceiveProps","prevProps","prevState","console","log","cardData","localStorage","getItem","cardtype","JSON","parse","query","window","location","search","split","url","URL","params","Object","keys","forEach","key","searchParams","append","fetch","then","results","json","data","response","map","news","imageVal","setcolor","setTcolor","theme","setname","title","webTitle","section","sectionId","date","webPublicationDate","shareURL","webUrl","newsId","id","blocks","hasOwnProperty","main","elements","assets","length","len","file","setState","docs","headline","news_desk","pub_date","web_url","multimedia","i","width","componentDidMount","props","switchFunction","bookmarkFunction","render"],"mappings":"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","sourcesContent":["import React from 'react'\nimport SearchCard from './SearchCard'\nimport 'bootstrap/dist/css/bootstrap.min.css';\nclass Search extends React.Component{\n  constructor(){\n    super()\n    this.state = {\n      temp :[],\n\n    }\n  }\n  componentWillReceiveProps(prevProps,prevState){\n    // if(window.location.pathname===\"/search\"){\n    //   var search = window.location.search.split(\"=\")[1]\n    //   localStorage.setItem('search',JSON.stringify(search))\n    // }\n    // else{\n    //   var search = \"\"\n    //   localStorage.setItem('search',JSON.stringify(search))\n    // }\n    console.log(\"in component did update\")\n    var cardData = localStorage.getItem('cardIdentifier')\n    var cardtype = JSON.parse(cardData)\n    if(cardtype.cardtype){\n      var query = window.location.search.split('=')[1]\n      var url = new URL(\"https://test-deploy2506.wl.r.appspot.com/searchGuardian\")\n      var params = {search:query}\n      Object.keys(params).forEach(key => url.searchParams.append(key, params[key]))\n      fetch(url)\n      .then(results => {\n        return results.json();\n      }).then(data => {\n        let temp = data.response.results.map((news) => {\n          console.log(data.response.results)\n            let imageVal =\"\"\n            let setcolor = \"\"\n            let setTcolor = \"\"\n            let theme = \"\"\n            let setname = \"\"\n            let title = news.webTitle\n            let section = news.sectionId\n            let date = news.webPublicationDate\n            let shareURL = news.webUrl\n            let cardtype = \"guardian\"\n            let newsId = news.id\n\n            if(news.blocks.hasOwnProperty(\"main\")){\n              if(news.blocks.main.elements[0].assets.length===0){\n                imageVal = \"https://assets.guim.co.uk/images/eada8aa27c12fe2d5afa3a89d3fbae0d/fallback-logo.png\"\n              }\n              else{\n                let len\n                len = news.blocks.main.elements[0].assets.length\n                imageVal = news.blocks.main.elements[0].assets[len-1].file\n              }\n            }\n            else{\n              imageVal = \"https://assets.guim.co.uk/images/eada8aa27c12fe2d5afa3a89d3fbae0d/fallback-logo.png\"\n            }\n            if(section===\"world\" || section===\"World\"){\n                setcolor=\"BlueViolet\"\n                setTcolor=\"white\"\n              }\n              else if(section===\"politics\" || section===\"Politics\"){\n                setcolor=\"DarkCyan\"\n                setTcolor=\"white\"\n              }\n              else if(section===\"business\" || section===\"Business\"){\n                theme=\"primary\"\n              }\n              else if(section===\"technology\" || section===\"Technology\"){\n                setname=\"technology\"\n              }\n              else if(section===\"sport\" || section===\"Sport\"){\n                setname=\"sports\"\n              }\n              else{\n                setname=\"other\"\n              }\n              console.log(\"checl\",news.webUrl)\n              return(<SearchCard title={news.webTitle}\n                                 image={imageVal}\n                                 date={news.webPublicationDate}\n                                 section={news.sectionId}\n                                 theme={theme}\n                                 color={setcolor}\n                                 tcolor={setTcolor}\n                                 name={setname}\n                                 shareURL={news.webUrl}\n                                 cardtype={cardtype}\n                                 newsId={news.id}\n                                 api=\"f7cd7c4a-6561-42e3-9c22-61896a27a48d\"/>)\n          })\n          if(prevState.temp!=temp){\n            this.setState({temp:temp})\n          }\n      })\n    }\n    if(!cardtype.cardtype){\n      var query = window.location.search.split('=')[1]\n      var url = new URL(\"https://test-deploy2506.wl.r.appspot.com/searchNY\")\n      var params = {search:query}\n      Object.keys(params).forEach(key => url.searchParams.append(key, params[key]))\n      fetch(url)\n      .then(results => {\n        return results.json();\n      }).then(data => {\n        if(data.hasOwnProperty(\"response\")){\n          if(data.response.hasOwnProperty(\"docs\")){\n            let temp = data.response.docs.map((news) => {\n              console.log(data.response)\n              let imageVal =\"\"\n              let setcolor = \"\"\n              let setTcolor = \"\"\n              let theme = \"\"\n              let setname = \"\"\n              let title = news.headline.main\n              let section = news.news_desk\n              let date = news.pub_date\n              let shareURL = news.web_url\n              let cardtype = \"ny\"\n              let newsId = news.web_url\n              if(news.hasOwnProperty(\"multimedia\")){\n                if(news.multimedia===null){\n                  imageVal = \"https://upload.wikimedia.org/wikipedia/commons/0/0e/Nytimes_hq.jpg\"\n                }\n                else{\n                  for(var i=0;i<news.multimedia.length;i++){\n                    if(news.multimedia[i].width>=2000){\n                      imageVal = \"https://nyt.com/\"+news.multimedia[i].url\n                      break\n                    }\n                  }\n                  if(imageVal===\"\"){\n                    imageVal = \"https://upload.wikimedia.org/wikipedia/commons/0/0e/Nytimes_hq.jpg\"\n                  }\n                }\n              }\n              if(section===\"world\" || section===\"World\"){\n                  setcolor=\"BlueViolet\"\n                  setTcolor=\"white\"\n                }\n                else if(section===\"politics\" || section===\"Politics\"){\n                  setcolor=\"DarkCyan\"\n                  setTcolor=\"white\"\n                }\n                else if(section===\"business\" || section===\"Business\"){\n                  theme=\"primary\"\n                }\n                else if(section===\"technology\" || section===\"Technology\"){\n                  setname=\"technology\"\n                }\n                else if(section===\"sport\" || section===\"Sport\"){\n                  setname=\"sports\"\n                }\n                else{\n                  setname=\"other\"\n                }\n                console.log(news.web_url)\n                return(<SearchCard title={news.headline.main}\n                                   image={imageVal}\n                                   date={news.pub_date}\n                                   section={news.news_desk}\n                                   theme={theme}\n                                   color={setcolor}\n                                   tcolor={setTcolor}\n                                   name={setname}\n                                   shareURL={news.web_url}\n                                   cardtype={cardtype}\n                                   newsId={news.web_url}\n                                   api=\"onws5eIQAm992vQD8VgYf9b8nwtGJUe1\"/>)\n            })\n            if(prevState.temp!=temp){\n              this.setState({temp:temp})\n            }\n          }\n        }\n      })\n    }\n  }\n  componentDidMount(){\n    console.log(\"in component did mount\")\n    this.props.switchFunction()\n    this.props.bookmarkFunction()\n    var cardData = localStorage.getItem('cardIdentifier')\n    var cardtype = JSON.parse(cardData)\n    if(cardtype.cardtype){\n      var query = window.location.search.split('=')[1]\n      var url = new URL(\"https://test-deploy2506.wl.r.appspot.com/searchGuardian\")\n      var params = {search:query}\n      Object.keys(params).forEach(key => url.searchParams.append(key, params[key]))\n      fetch(url)\n      .then(results => {\n        return results.json();\n      }).then(data => {\n          let temp = data.response.results.map((news) => {\n            console.log(data.response.results)\n            let imageVal =\"\"\n            let setcolor = \"\"\n            let setTcolor = \"\"\n            let theme = \"\"\n            let setname = \"\"\n            let title = news.webTitle\n            let section = news.sectionId\n            let date = news.webPublicationDate\n            let shareURL = news.webUrl\n            let cardtype = \"guardian\"\n            let newsId = news.id\n\n            if(news.blocks.hasOwnProperty(\"main\")){\n              if(news.blocks.main.elements[0].assets.length===0){\n                imageVal = \"https://assets.guim.co.uk/images/eada8aa27c12fe2d5afa3a89d3fbae0d/fallback-logo.png\"\n              }\n              else{\n                let len\n                len = news.blocks.main.elements[0].assets.length\n                imageVal = news.blocks.main.elements[0].assets[len-1].file\n              }\n            }\n            else{\n              imageVal = \"https://assets.guim.co.uk/images/eada8aa27c12fe2d5afa3a89d3fbae0d/fallback-logo.png\"\n            }\n            if(section===\"world\" || section===\"World\"){\n                setcolor=\"BlueViolet\"\n                setTcolor=\"white\"\n              }\n              else if(section===\"politics\" || section===\"Politics\"){\n                setcolor=\"DarkCyan\"\n                setTcolor=\"white\"\n              }\n              else if(section===\"business\" || section===\"Business\"){\n                theme=\"primary\"\n              }\n              else if(section===\"technology\" || section===\"Technology\"){\n                setname=\"technology\"\n              }\n              else if(section===\"sport\" || section===\"Sport\"){\n                setname=\"sports\"\n              }\n              else{\n                setname=\"other\"\n              }\n              console.log(\"check\",news.webUrl)\n              return(<SearchCard title={news.webTitle}\n                                 image={imageVal}\n                                 date={news.webPublicationDate}\n                                 section={news.sectionId}\n                                 theme={theme}\n                                 color={setcolor}\n                                 tcolor={setTcolor}\n                                 name={setname}\n                                 shareURL={news.webUrl}\n                                 cardtype={cardtype}\n                                 newsId={news.id}\n                                 api=\"f7cd7c4a-6561-42e3-9c22-61896a27a48d\"/>)\n          })\n          this.setState({temp:temp});\n      })\n    }\n    if(!cardtype.cardtype){\n      var query = window.location.search.split('=')[1]\n      var url = new URL(\"https://test-deploy2506.wl.r.appspot.com/searchNY\")\n      var params = {search:query}\n      Object.keys(params).forEach(key => url.searchParams.append(key, params[key]))\n      fetch(url)\n      .then(results => {\n        return results.json();\n      }).then(data => {\n        if(data.hasOwnProperty(\"response\")){\n          if(data.response.hasOwnProperty(\"docs\")){\n            console.log(data.response)\n            let temp = data.response.docs.map((news) => {\n              let imageVal =\"\"\n              let setcolor = \"\"\n              let setTcolor = \"\"\n              let theme = \"\"\n              let setname = \"\"\n              let title = news.headline.main\n              let section = news.news_desk\n              let date = news.pub_date\n              let shareURL = news.web_url\n              let cardtype = \"ny\"\n              let newsId = news.web_url\n              if(news.hasOwnProperty(\"multimedia\")){\n                if(news.multimedia===null){\n                  imageVal = \"https://upload.wikimedia.org/wikipedia/commons/0/0e/Nytimes_hq.jpg\"\n                }\n                else{\n                  for(var i=0;i<news.multimedia.length;i++){\n                    if(news.multimedia[i].width>=2000){\n                      imageVal = \"https://nyt.com/\"+news.multimedia[i].url\n                      break\n                    }\n                  }\n                  if(imageVal===\"\"){\n                    imageVal = \"https://upload.wikimedia.org/wikipedia/commons/0/0e/Nytimes_hq.jpg\"\n                  }\n                }\n              }\n              // console.log(\"this is imageVal\",imageVal)\n              if(section===\"world\" || section===\"World\"){\n                  setcolor=\"BlueViolet\"\n                  setTcolor=\"white\"\n                }\n                else if(section===\"politics\" || section===\"Politics\"){\n                  setcolor=\"DarkCyan\"\n                  setTcolor=\"white\"\n                }\n                else if(section===\"business\" || section===\"Business\"){\n                  theme=\"primary\"\n                }\n                else if(section===\"technology\" || section===\"Technology\"){\n                  setname=\"technology\"\n                }\n                else if(section===\"sport\" || section===\"Sport\"){\n                  setname=\"sports\"\n                }\n                else{\n                  setname=\"other\"\n                }\n                console.log(news.web_url)\n                return(<SearchCard title={news.headline.main}\n                                   image={imageVal}\n                                   date={news.pub_date}\n                                   section={news.news_desk}\n                                   theme={theme}\n                                   color={setcolor}\n                                   tcolor={setTcolor}\n                                   name={setname}\n                                   shareURL={news.web_url}\n                                   cardtype={cardtype}\n                                   newsId={news.web_url}\n                                   api=\"onws5eIQAm992vQD8VgYf9b8nwtGJUe1\"/>)\n            })\n            this.setState({temp:temp});\n          }\n        }\n      })\n    }\n  }\n  render(){\n    return(<div><div className=\"favWord\">Results </div><div className=\"card-group\">{this.state.temp}</div></div>)\n    if(this.state.temp.length===0){\n        return <h4>No results</h4>\n      }\n    }\n}\nexport default Search\n"]},"metadata":{},"sourceType":"module"}