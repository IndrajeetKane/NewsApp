{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kanei\\\\Documents\\\\Projects\\\\React\\\\HW8\\\\frontend\\\\src\\\\Politics.js\";\nimport React, { Component } from \"react\";\nimport Card from './card';\nimport BounceLoader from 'react-spinners/BounceLoader';\nimport { css } from \"@emotion/core\";\nconst override = css`\n  display: block;\n  margin-left: auto ;\n  margin-right: auto ;\n  /* margin-bottom: 0 auto ; */\n  margin-top:300px;\n`;\n\nclass Politics extends Component {\n  constructor() {\n    super();\n    this.state = {\n      temp: [],\n      isLoading: true\n    };\n  }\n\n  componentDidMount() {\n    this.props.switchFunction();\n    setTimeout(() => this.setState({\n      isLoading: false\n    }), 2000);\n    fetch('https://test-deploy2506.wl.r.appspot.com/politics').then(results => {\n      return results.json();\n    }).then(data => {\n      let temp = data.results.map(news => {\n        let newsShare = \"\";\n        let setcolor = \"\";\n        let setTcolor = \"\";\n        let setname = \"\";\n\n        if (news.hasOwnProperty(\"url\")) {\n          newsShare = news.url;\n        } else {\n          newsShare = \"http://www.google.com\";\n        }\n\n        let imageVal = \"\";\n\n        if (news.multimedia === null) {\n          imageVal = \"https://upload.wikimedia.org/wikipedia/commons/0/0e/Nytimes_hq.jpg\";\n        } else {\n          for (var i = 0; i < news.multimedia.length; i++) {\n            if (news.multimedia[i].width >= 2000) {\n              imageVal = news.multimedia[i].url;\n              break;\n            }\n          }\n\n          if (imageVal === \"\") {\n            imageVal = \"https://upload.wikimedia.org/wikipedia/commons/0/0e/Nytimes_hq.jpg\";\n          }\n        } // console.log(\"this is imageVal\",imageVal)\n\n\n        if (news.section === \"politics\" || news.section === \"Politics\") {\n          setcolor = \"DarkCyan\";\n          setTcolor = \"white\";\n        } else {\n          setname = \"other\";\n        }\n\n        return /*#__PURE__*/React.createElement(Card, {\n          title: news.title,\n          img: imageVal,\n          section: news.section,\n          date: news.published_date,\n          desc: news.abstract,\n          color: setcolor,\n          tcolor: setTcolor,\n          name: setname,\n          shareURL: newsShare,\n          cardtype: \"ny\",\n          newsId: newsShare,\n          api: \"onws5eIQAm992vQD8VgYf9b8nwtGJUe1\",\n          type: \"nytimes\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 11\n          }\n        });\n      });\n      this.setState({\n        temp: temp\n      });\n      console.log(\"data\", this.state.temp);\n    });\n  }\n\n  render() {\n    if (this.state.isLoading) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(BounceLoader, {\n        css: override,\n        color: \"#005BD4\",\n        size: \"32px\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(\"h5\", {\n        className: \"loading\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }\n      }, \"Loading\")); // render the loading component\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 7\n      }\n    }, this.state.temp);\n  }\n\n}\n\nexport default Politics;","map":{"version":3,"sources":["C:/Users/kanei/Documents/Projects/React/HW8/frontend/src/Politics.js"],"names":["React","Component","Card","BounceLoader","css","override","Politics","constructor","state","temp","isLoading","componentDidMount","props","switchFunction","setTimeout","setState","fetch","then","results","json","data","map","news","newsShare","setcolor","setTcolor","setname","hasOwnProperty","url","imageVal","multimedia","i","length","width","section","title","published_date","abstract","console","log","render"],"mappings":"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","sourcesContent":["import React,{Component} from \"react\"\nimport Card from './card'\nimport BounceLoader from 'react-spinners/BounceLoader'\nimport { css } from \"@emotion/core\";\n\nconst override = css`\n  display: block;\n  margin-left: auto ;\n  margin-right: auto ;\n  /* margin-bottom: 0 auto ; */\n  margin-top:300px;\n`;\nclass Politics extends Component{\n  constructor(){\n    super();\n    this.state = {\n      temp:[],\n      isLoading:true\n    };\n  }\n  componentDidMount(){\n    this.props.switchFunction()\n    setTimeout(() => this.setState({ isLoading: false }), 2000);\n    fetch('https://test-deploy2506.wl.r.appspot.com/politics')\n    .then(results => {\n      return results.json();\n    }).then(data => {\n      let temp = data.results.map((news) => {\n        let newsShare = \"\"\n        let setcolor = \"\"\n        let setTcolor = \"\"\n        let setname = \"\"\n        if(news.hasOwnProperty(\"url\")){\n          newsShare = news.url\n        }\n        else{\n          newsShare = \"http://www.google.com\"\n        }\n        let imageVal =\"\"\n        if(news.multimedia===null){\n          imageVal = \"https://upload.wikimedia.org/wikipedia/commons/0/0e/Nytimes_hq.jpg\"\n        }\n        else{\n          for(var i=0;i<news.multimedia.length;i++){\n            if(news.multimedia[i].width>=2000){\n              imageVal = news.multimedia[i].url\n              break\n            }\n          }\n          if(imageVal===\"\"){\n            imageVal = \"https://upload.wikimedia.org/wikipedia/commons/0/0e/Nytimes_hq.jpg\"\n          }\n        }\n        // console.log(\"this is imageVal\",imageVal)\n        if(news.section===\"politics\" || news.section===\"Politics\"){\n          setcolor=\"DarkCyan\"\n          setTcolor=\"white\"\n        }\n        else{\n          setname=\"other\"\n        }\n        return(\n          <Card title={news.title}\n                img={imageVal}\n                section={news.section}\n                date={news.published_date}\n                desc={news.abstract}\n                color={setcolor}\n                tcolor={setTcolor}\n                name={setname}\n                shareURL={newsShare}\n                cardtype=\"ny\"\n                newsId={newsShare}\n                api=\"onws5eIQAm992vQD8VgYf9b8nwtGJUe1\"\n                type=\"nytimes\" />\n        )\n      })\n      this.setState({temp:temp});\n      console.log(\"data\",this.state.temp);\n    })\n  }\n\n  render(){\n    if(this.state.isLoading) {\n      return (\n        <div>\n          <BounceLoader css={override} color=\"#005BD4\" size=\"32px\"/>\n          <h5 className=\"loading\">Loading</h5>\n        </div>\n      ); // render the loading component\n    }\n    return(\n      <div>{this.state.temp}</div>\n    )\n  }\n}\nexport default Politics\n"]},"metadata":{},"sourceType":"module"}